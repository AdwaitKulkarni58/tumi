<a
  *ngIf="event"
  fxLayout="row"
  [routerLink]="event.id"
  class="relative h-full text-surface-on"
>
  <div
    class="absolute top-0 right-0 rounded-bl rounded-tr-2xl bg-green-500 px-2 text-sm text-white"
    *ngIf="event.userRegistered"
  >
    registered
  </div>
  <div
    class="absolute top-0 right-0 rounded-bl rounded-tr-2xl bg-secondary-default px-2 text-sm text-secondary-on"
    *ngIf="event.userIsOrganizer"
  >
    organizer
  </div>

  <div
    class="
      bg-gray-100
      p-4
      pr-20
      border border-outline-default
      rounded-l-2xl
      {{ event.publicationState | lowercase }}
    "
    fxLayout="column"
    fxLayoutAlign="center"
  >
    <img
      [src]="event.icon | iconURL"
      alt=""
      class="w-28"
      height="7rem"
      width="7rem"
    />
  </div>
  <div
    class="-ml-16 w-full rounded-2xl border border-outline-default bg-surface-default p-4"
  >
    <p class="mb-2 font-bold">{{ event.title }}</p>
    <p>
      🕐 {{ event.start | date: 'shortTime' }}
      <span class="ml-2" *ngIf="defaultPrice()">
        💶 {{ defaultPrice().amount | currency: 'EUR' }}
      </span>
    </p>
    <p
      *ngIf="
        RegistrationMode.External !== event.registrationMode && !notYetOpen()
      "
    >
      {{ event.freeParticipantSpots }}
      <ng-container *ngIf="event?.couldBeOrganizer">
        ({{ (event?.organizerLimit ?? 0) - (event?.organizersRegistered ?? 0) }}
        orga)
      </ng-container>
    </p>
    <p *ngIf="notYetOpen()">
      🔒 Registration opens {{ event.registrationStart | date: 'short' }}
    </p>
  </div>
</a>
